{"version":3,"sources":["main.js"],"names":["hashString","localStorage","getItem","hashObject","JSON","parse","hashMap","url","siteLogo","siteName","simplifyUrl","replace","render","$siteList","$","$last","find","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","submit","addSite","prompt","name","indexOf","push","onbeforeunload","stringify","setItem","isLogoUp","$global","$logo","logoFun","attr","isSwitchOn","$switch","switchFun","css","layer","type","title","skin","area","shade","content","btn","btnAlign","btn2","cancel","document","ctrlKey","key","animate","height","h","scrollTop"],"mappings":"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","file":"main.88d616af.js","sourceRoot":"..\\src","sourcesContent":["const hashString = localStorage.getItem('hashMap');\r\nconst hashObject = JSON.parse(hashString);\r\nconst hashMap = hashObject || [\r\n    {url: 'https://www.acfun.cn/', siteLogo: 'A', siteName:'AcFun'},\r\n    {url: 'https://www.bilibili.com/',siteLogo: 'B',siteName: 'bilibili'}\r\n];\r\nconst simplifyUrl = (url)=>{\r\n    return url.replace('https://', '')\r\n    .replace('http://', '')\r\n    .replace('www', '')\r\n    .replace(/\\/.*/, ''); //正则表达式删除/后面内容\r\n}\r\n\r\n/*页面刷新*/\r\nconst render = ()=>{\r\n    const $siteList = $(\".siteList\");\r\n    let $last = $siteList.find(\"li.last\");\r\n    $siteList.find('li:not(.last)').remove();\r\n    hashMap.forEach((node, index)=>{\r\n        const $li = $(`\r\n            <li>\r\n                <div class=\"site\">\r\n                    <div class=\"siteLogo\">\r\n                        ${simplifyUrl(node.siteLogo)[0]}\r\n                    </div>\r\n                    <div class=\"siteName\">${node.siteName}</div>\r\n                    <div class=\"siteMore\">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-more\"></use>\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        `).insertBefore($last);\r\n        $li.on('click', ()=>{\r\n            window.open(node.url, '_self');//事件冒泡与a标签冲突，换点击事件\r\n        })\r\n        $li.on('click', '.siteMore',(e)=>{\r\n            e.stopPropagation();//js阻止li的事件冒泡\r\n            hashMap.splice(index, 1);\r\n            render();\r\n        })\r\n    });\r\n}\r\nrender();\r\n$(\".searchButton\").on('click',()=>{\r\n    $(\".searchForm\").submit();\r\n});\r\n\r\n/*添加网址函数*/\r\nlet addSite = ()=>{\r\n    let url = window.prompt('请输入网址');\r\n    let name = window.prompt('请输入名称')\r\n    if(url.indexOf('http') !== 0){\r\n        url = \"https://\" + url;\r\n    }\r\n    hashMap.push({\r\n        url: url,\r\n        siteLogo: url,\r\n        siteName: name\r\n    })\r\n    render();\r\n}\r\n\r\n/*按钮——添加网址*/\r\n$(\".siteAddButton\").on(\"click\",addSite);\r\n\r\n$('.buttonGroup.confirm').on('click',()=>{\r\n    \r\n})\r\n\r\n/*离开页面前存储数据*/\r\nwindow.onbeforeunload = ()=>{\r\n    const hashString = JSON.stringify(hashMap);\r\n    localStorage.setItem('hashMap',hashString);\r\n}\r\n\r\n/*切换搜索引擎logo*/\r\nlet isLogoUp = true;\r\nlet $global = $(\".globalHeader\");\r\nlet $logo = $(\".globalHeader .searchLogo\");\r\nlet logoFun = ()=>{\r\n    if(isLogoUp){\r\n        $global.find('img').attr('src','/google.953ec577.png');\r\n        $global.find('form').attr('action','https://www.google.com.hk/search');\r\n        $global.find('input').attr('name','q');\r\n        isLogoUp = false;\r\n    }\r\n    else{\r\n        $global.find('img').attr('src','/baidu.705500cf.png');\r\n        $global.find('form').attr('action','https://www.baidu.com/s');\r\n        $global.find('input').attr('name','wd');\r\n        isLogoUp = true;\r\n    }\r\n}\r\n$logo.on('click', logoFun);\r\n\r\n/*PC端*/\r\nlet isSwitchOn = true;\r\nlet $switch = $('.siteModule > .siteSwitch');\r\nlet switchFun = ()=>{\r\n    if(isSwitchOn){\r\n        $switch.find('use').attr('xlink:href','#icon-switch-off');\r\n        isSwitchOn = false;\r\n    }\r\n    else{\r\n        $switch.find('use').attr('xlink:href','#icon-switch-on');\r\n        isSwitchOn = true;\r\n    }\r\n}\r\n$switch.on('click', switchFun);\r\n\r\n/*$('.siteModule .siteMoudleName').on('click', ()=>{\r\n    $('.siteModule .siteModuleClass').animate({\r\n        height: 'toggle'\r\n    },1000);\r\n});*/\r\n\r\n/*window.onclick = ()=>{\r\n    console.log(layer.msg);\r\n    layer.msg('玩命提示中');\r\n}*/\r\n$('.settings').on('click',()=>{\r\n    $('.modifyFrame').css('display','block');\r\n    layer.open({\r\n        type: 1,\r\n        title: '添加网址导航',\r\n        skin: 'layui-layer-rim', //加上边框\r\n        area: ['350px', '250px'], //宽高\r\n        shade: [0.8, '#393D49'],\r\n        content: $('.midifyWebSite'),\r\n        btn: ['删除','完成'],\r\n        btnAlign: 'c',\r\n        btn2: addSite,\r\n        cancel:()=>{\r\n            $('.modifyFrame').css('display','none');\r\n        }\r\n    });\r\n});\r\n\r\n/*键盘事件*/\r\n$(document).on('keydown', (e)=>{\r\n    if(e.ctrlKey){\r\n        if(e.key === \"ArrowUp\"){\r\n            $('.globalMain').animate({\r\n                height: 'toggle'\r\n            },500);\r\n        }\r\n        else if(e.key === \"ArrowDown\"){\r\n            var h = $(document).height()-$(window).height();\r\n            $(document).scrollTop(h); \r\n        }\r\n    }\r\n    if(e.key === 'x'){\r\n        logoFun();\r\n    }\r\n});\r\n"]}